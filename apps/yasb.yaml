version: '3'

includes: 
  lib: ../lib.yaml
  app: ../models/app.yaml

tasks:
  default:
    - task: app:default

  configure:
    internal: true
    platforms: [windows]
    cmds:
      - |
        if [ ! -d "$HOME/.config/yasb" ]; then
          mkdir -p "$HOME/.config/yasb"
        fi
        cp "$HOME/.omt/dotfiles/yasb/config.yaml" "$HOME/.config/yasb/config.yaml"
        cp "$HOME/.omt/dotfiles/yasb/styles.css" "$HOME/.config/yasb/styles.css"
        echo "yasb has been configured successfully."

  install:windows:
    platforms: [windows]
    internal: true
    silent: true
    cmds:
      - task: lib:scoop:install
        vars:
          APP: yasb

  install:
    desc: "[YASB] âœ¨ Install YASB"
    silent: true
    cmds:
      - task: install:windows
      - task: configure
