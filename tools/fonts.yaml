version: '3'

tasks:
  default:
    - task --list --taskfile tools/fonts.yaml

  install-font:
    internal: true
    platforms: [windows]
    requires:
      vars: [ font ]
    cmds:
      - task: ::scoop:nerd-fonts-install
        vars:
          APP: "{{ .font }}"

  install:windows:
    internal: true
    platforms: [windows]
    vars:
      FONTS: 
        - Mononoki-NF
        - Mononoki-NF-Mono
        - FantasqueSansMono-NF
        - FantasqueSansMono-NF-Mono
        - JetBrainsMono-NF
        - JetBrainsMono-NF-Mono
        - Lato
    cmds:
      - for: { var: FONTS }
        task: install-font
        vars:
          font: "{{.ITEM}}"

  install:linux: # TODO: add Linux support
    internal: true
    platforms: [linux]
    cmds:
      - |
        echo "Not implemented yet."

  install:
    silent: true
    desc: "[FONTS] âœ¨ Install fonts"
    cmds:
      - task: install:windows
      - task: install:linux
