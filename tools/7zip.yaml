version: '3'

includes:
  linux:
    taskfile: ../lib/github.yaml
    flatten: false
    internal: true
    vars:
      REPO: ip7z/7zip
      SEARCH_LINUX: '-linux-x64.tar.xz'
      SEARCH_DARWIN: '-mac.tar.xz'
      BINARY_LINUX: '7zz'
      BINARY_DARWIN: '7zz'
      BINARY_PATH: '$HOME/bin'

tasks:
  default:
    - task --list --taskfile tools/7zip.yaml

  install:windows:
    platforms: [windows]
    internal: true
    silent: true
    cmds:
      - task: ::scoop:install
        vars:
          APP: 7zip

  install:linux:
    platforms: [linux]
    internal: true
    silent: true
    cmds:
      - task: linux:install

  install:
    desc: "[7ZIP] âœ¨ Install 7zip"
    silent: true
    cmds:
      - task: install:windows
      - task: install:linux
