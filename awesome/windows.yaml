# Setup Awesome Windows Experience in one go :)
version: '3'

tasks:
  awesome-windows:
    deps: [ "tools:gum:install" ]
    internal: true
    platforms: [windows]
    vars:
      TOOLS:
        - 7zip
        - alacritty
        - awesome-git
        - az
        - azd
        - bat
        - btop
        - coreutils
        - flow-launcher
        - fonts
        - fzf
        - gcloud
        - glazewm
        - gomplate
        - gpg
        - gum
        - jq
        - k8s
        - lazygit
        - lsd
        - nvim
        - pwsh
        - rose-pine-cursor
        - starship
        - translucenttb
        - yasb
      APPS:
        - 1password
        - cursor
        - spotify
        - teracopy
        - postman
        - royal-ts
        - cryptomator
        - joplin
        - simplenote
        - podman-desktop
      RUN:
        - git:config-global
        - lang:go:install
        - lang:rust:install
        - lang:node:install
    cmds:
      - |
        echo "Welcome to the Awesome Windows Experience!"
        echo
        echo "Tools to install: {{ .TOOLS | join ", " }}"
        echo "Apps to install: {{ .APPS | join ", " }}"
        echo "Additional configurations to run: {{ .RUN | join ", " }}"
        echo
        gum confirm "Are you sure you want to continue?"

      - for: TOOLS
        task: tools:{{ .ITEM }}:install
        vars:
          UNATTENDED: "true"

      - for: APPS
        task: apps:{{ .ITEM }}:install
        vars:
          UNATTENDED: "true"

      - for: RUN
        task: {{ .ITEM }}
        vars:
          UNATTENDED: "true"

